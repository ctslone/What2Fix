var test = {
    "location": {
    "entity_type": "subzone",
    "entity_id": 119542,
    "title": "Cary",
    "latitude": "35.7750391530",
    "longitude": "-78.7847085198",
    "city_id": 898,
    "city_name": "Research Triangle",
    "country_id": 216,
    "country_name": "United States"
    },
    "popularity": {
    "popularity": "3.53",
    "nightlife_index": "1.45",
    "nearby_res": [
    "17054868",
    "17054093",
    "17056959",
    "17056181",
    "17054987",
    "17053690",
    "17053183",
    "17055675",
    "17056745"
    ],
    "top_cuisines": [
    "Sandwich",
    "Fast Food",
    "Coffee and Tea",
    "American",
    "Asian"
    ],
    "popularity_res": "100",
    "nightlife_res": "10",
    "subzone": "Cary",
    "subzone_id": 119542,
    "city": "Research Triangle"
    },
    "link": "https://www.zomato.com/research-triangle/cary-restaurants",
    "nearby_restaurants": [
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17054868
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17054868",
    "name": "Sushi-Thai Cary",
    "url": "https://www.zomato.com/research-triangle/sushi-thai-cary-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "106 Kilmayne Dr, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7695270000",
    "longitude": "-78.7823180000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Japanese, Sushi, Thai",
    "average_cost_for_two": 25,
    "price_range": 2,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "4.6",
    "rating_text": "Excellent",
    "rating_color": "3F7E00",
    "rating_obj": {
    "title": {
    "text": "4.6"
    },
    "bg_color": {
    "type": "lime",
    "tint": "800"
    }
    },
    "votes": "273"
    },
    "photos_url": "https://www.zomato.com/research-triangle/sushi-thai-cary-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/sushi-thai-cary-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17054868",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/sushi-thai-cary-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17054093
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17054093",
    "name": "Los Tres Magueyes",
    "url": "https://www.zomato.com/research-triangle/los-tres-magueyes-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "110 SW Maynard Rd, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7713400000",
    "longitude": "-78.7821380000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Mexican",
    "average_cost_for_two": 10,
    "price_range": 1,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "4.3",
    "rating_text": "Very Good",
    "rating_color": "5BA829",
    "rating_obj": {
    "title": {
    "text": "4.3"
    },
    "bg_color": {
    "type": "lime",
    "tint": "700"
    }
    },
    "votes": "190"
    },
    "photos_url": "https://www.zomato.com/research-triangle/los-tres-magueyes-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/los-tres-magueyes-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17054093",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/los-tres-magueyes-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17056959
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17056959",
    "name": "City Barbeque",
    "url": "https://www.zomato.com/research-triangle/city-barbeque-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "1305 Kildaire Farm Rd, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7617874000",
    "longitude": "-78.7834005000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "BBQ, Sandwich",
    "average_cost_for_two": 0,
    "price_range": 1,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.9",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.9"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "52"
    },
    "photos_url": "https://www.zomato.com/research-triangle/city-barbeque-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/city-barbeque-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17056959",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/city-barbeque-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17056181
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17056181",
    "name": "Taipei 101",
    "url": "https://www.zomato.com/research-triangle/taipei-101-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "121 E Chatham St, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7875000000",
    "longitude": "-78.7805230000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Chinese",
    "average_cost_for_two": 25,
    "price_range": 2,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.9",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.9"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "42"
    },
    "photos_url": "https://www.zomato.com/research-triangle/taipei-101-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/taipei-101-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17056181",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/taipei-101-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17054987
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17054987",
    "name": "Torero's",
    "url": "https://www.zomato.com/research-triangle/toreros-authentic-mexican-cuisine-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "1207 Kildaire Farm Rd, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7643590000",
    "longitude": "-78.7833280000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Mexican, Tex-Mex",
    "average_cost_for_two": 25,
    "price_range": 2,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.9",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.9"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "46"
    },
    "photos_url": "https://www.zomato.com/research-triangle/toreros-authentic-mexican-cuisine-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/toreros-authentic-mexican-cuisine-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17054987",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/toreros-authentic-mexican-cuisine-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17053690
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17053690",
    "name": "Goodberry's Frozen Custard",
    "url": "https://www.zomato.com/research-triangle/goodberrys-frozen-custard-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "1146 Kildaire Farm Rd, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7663600000",
    "longitude": "-78.7830280000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Desserts, Frozen Yogurt",
    "average_cost_for_two": 10,
    "price_range": 1,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "4.0",
    "rating_text": "Very Good",
    "rating_color": "5BA829",
    "rating_obj": {
    "title": {
    "text": "4.0"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "55"
    },
    "photos_url": "https://www.zomato.com/research-triangle/goodberrys-frozen-custard-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/goodberrys-frozen-custard-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17053690",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/goodberrys-frozen-custard-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17053183
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17053183",
    "name": "Carrabba's Italian Grill",
    "url": "https://www.zomato.com/research-triangle/carrabbas-italian-grill-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "1148 Kildaire Farm Rd, Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7663110000",
    "longitude": "-78.7830460000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Italian",
    "average_cost_for_two": 40,
    "price_range": 3,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.7",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.7"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "54"
    },
    "photos_url": "https://www.zomato.com/research-triangle/carrabbas-italian-grill-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/carrabbas-italian-grill-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17053183",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/carrabbas-italian-grill-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17055675
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17055675",
    "name": "Chipotle Mexican Grill",
    "url": "https://www.zomato.com/research-triangle/chipotle-mexican-grill-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "100 Wrenn Drive Ste 103 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7652273876",
    "longitude": "-78.7838989739",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "Fast Food, Mexican",
    "average_cost_for_two": 10,
    "price_range": 1,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.7",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.7"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "39"
    },
    "photos_url": "https://www.zomato.com/research-triangle/chipotle-mexican-grill-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/chipotle-mexican-grill-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17055675",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/chipotle-mexican-grill-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    },
    {
    "restaurant": {
    "R": {
    "has_menu_status": {
    "delivery": -1,
    "takeaway": -1
    },
    "res_id": 17056745
    },
    "apikey": "b32c2c14b4902cce45a0bb7619606d1d",
    "id": "17056745",
    "name": "Corbett's Burgers and Soda Bar",
    "url": "https://www.zomato.com/research-triangle/corbetts-burgers-and-soda-bar-cary?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1",
    "location": {
    "address": "126 Kilmayne Dr., Cary 27511",
    "locality": "Cary",
    "city": "Research Triangle",
    "city_id": 898,
    "latitude": "35.7694466000",
    "longitude": "-78.7832403000",
    "zipcode": "27511",
    "country_id": 216,
    "locality_verbose": "Cary, Research Triangle"
    },
    "switch_to_order_menu": 0,
    "cuisines": "American, Burger",
    "average_cost_for_two": 10,
    "price_range": 1,
    "currency": "$",
    "offers": [],
    "opentable_support": 0,
    "is_zomato_book_res": 0,
    "mezzo_provider": "OTHER",
    "is_book_form_web_view": 0,
    "book_form_web_view_url": "",
    "book_again_url": "",
    "thumb": "",
    "user_rating": {
    "aggregate_rating": "3.7",
    "rating_text": "Good",
    "rating_color": "9ACD32",
    "rating_obj": {
    "title": {
    "text": "3.7"
    },
    "bg_color": {
    "type": "lime",
    "tint": "600"
    }
    },
    "votes": "31"
    },
    "photos_url": "https://www.zomato.com/research-triangle/corbetts-burgers-and-soda-bar-cary/photos?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1#tabtop",
    "menu_url": "https://www.zomato.com/research-triangle/corbetts-burgers-and-soda-bar-cary/menu?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1&openSwipeBox=menu&showMinimal=1#tabtop",
    "featured_image": "",
    "has_online_delivery": 0,
    "is_delivering_now": 0,
    "include_bogo_offers": true,
    "deeplink": "zomato://restaurant/17056745",
    "is_table_reservation_supported": 0,
    "has_table_booking": 0,
    "events_url": "https://www.zomato.com/research-triangle/corbetts-burgers-and-soda-bar-cary/events#tabtop?utm_source=api_basic_user&utm_medium=api&utm_campaign=v2.1"
    }
    }
    ]
    };


// Global variable
var mymap;
var restaurants = {};
var markers = [];

// query URL base part
var queryURL = "https://developers.zomato.com/api/v2.1/geocode?";

// Object to hold query parameters
var queryParams = { "apikey": "b32c2c14b4902cce45a0bb7619606d1d"};

/*
 * Function: to display the map
 */
function displayMap() {
    
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {

            lat = position.coords.latitude;
            lng = position.coords.longitude;

            getRestaurant(lat, lng);

            mymap = L.map('map').setView([lat, lng], 15);
    
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiemhlbnlhbmc5MjYxIiwiYSI6ImNqdGY3cnBsajA2cm4zeWxsbTM5MnA2dmkifQ.dBaV5k04d2oCmwoESzBmLg', {
                        maxZoom: 18,
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                        '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                        id: 'mapbox.streets'
            }).addTo(mymap);
        
            addMarkers();

        });
    }
    
}

/*
 * Function: to make API call and get the object
 */
function getRestaurant(lat, lng) {

    queryParams.lat = lat;
    queryParams.lng = lng;

    // Get response from Zomato
    // $.ajax({
    //     url: queryURL + $.param(queryParams),
    //     method: "GET"
    //   }).then(function(response) {
    //       console.log(response);
    // });

    var nearbyRest = test.nearby_restaurants;
    console.log(nearbyRest);

    for (var i=0; i<nearbyRest.length; i++) {

        var marker = {};
        marker["lat"] = nearbyRest[i].restaurant.location.latitude;
        marker["lng"] = nearbyRest[i].restaurant.location.longitude;
        marker["name"] = nearbyRest[i].restaurant.name;
        marker["address"] = nearbyRest[i].restaurant.location.address;

        markers.push(marker);
    }
    console.log(markers);

}

/*
 * Function: to add markers to the map
 */
function addMarkers() {

    for(var i=0; i<markers.length; i++) {
    
        L.marker([markers[i].lat, markers[i].lng]).addTo(mymap)
            .bindPopup("<b>" + markers[i].name + "</b><br />" + markers[i].address).openPopup();
    }
}

$(document).ready(function() {
    
    $("#rest-btn").on("click", function() {
        event.preventDefault();
        
        displayMap();
    });
   
});